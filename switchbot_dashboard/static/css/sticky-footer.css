/* StickyMobile Footer Navigation - Adapted for SwitchBot Dashboard Theme */
/* Extracted from StickyMobile template with dark mode integration */

/* Body padding to account for fixed footer */
body.sb-dark {
  padding-bottom: 80px;
  padding-bottom: calc(80px + constant(safe-area-inset-bottom) * 1.1);
  padding-bottom: calc(80px + env(safe-area-inset-bottom) * 1.1);
}

/* Hide footer on desktop */
@media (min-width: 769px) {
  body.sb-dark {
    padding-bottom: 0;
  }
  
  #footer-bar {
    display: none;
  }
}

/* Footer Bar Main Component */
#footer-bar {
  position: fixed;
  bottom: 0px;
  left: 0px;
  right: 0px;
  z-index: 102; /* Above 100 as requested */
  background-color: var(--sb-bottom-nav-bg);
  box-shadow: 0 -5px 10px 0 rgba(0, 0, 0, 0.06);
  min-height: 60px;
  height: calc(62px + constant(safe-area-inset-bottom) * 1.1);
  height: calc(62px + env(safe-area-inset-bottom) * 1.1);
  display: flex;
  text-align: center;
  backdrop-filter: blur(20px);
  border-top: 1px solid var(--sb-bottom-nav-border);
}

/* Footer Navigation Links */
#footer-bar a {
  color: var(--sb-text);
  padding-top: 12px;
  position: relative;
  flex: 1 1 auto;
  text-decoration: none;
  transition: color var(--sb-transition-fast);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-width: 44px;
  min-height: 44px;
  padding: 0.5rem;
}

#footer-bar a:hover {
  color: var(--sb-accent);
}

#footer-bar .nav-text {
  position: relative;
  z-index: 2;
  display: block;
  font-size: 10px;
  font-weight: 500;
  margin-top: 0.25rem;
  opacity: 0.7;
  font-family: "Roboto", sans-serif !important;
}

/* Hide text on mobile AND desktop - show only icons for cleaner navigation */
@media (max-width: 480px) {
  #footer-bar .nav-text {
    display: none !important;
  }
  
  #footer-bar a {
    padding-top: 1rem;
  }
  
  #footer-bar i {
    font-size: 1.25rem;
    margin-bottom: 0;
  }
}

/* Hide text on desktop too for icon-only navigation */
@media (min-width: 481px) and (max-width: 768px) {
  #footer-bar .nav-text {
    display: none !important;
  }
  
  #footer-bar a {
    padding-top: 1rem;
  }
  
  #footer-bar i {
    font-size: 1.1rem;
    margin-bottom: 0;
  }
}

/* For tablets and small desktops, show text + icons */
@media (min-width: 769px) {
  #footer-bar {
    display: none; /* Hidden on large desktop as per existing rule */
  }
}

#footer-bar i {
  font-size: 18px;
  position: relative;
  z-index: 2;
  margin-bottom: 0.25rem;
}

/* Footer Badge Component */
#footer-bar .badge {
  font-style: normal;
  z-index: 5;
  top: 0px;
  position: absolute;
  margin-left: 3px;
  color: var(--sb-alert-text) !important;
  width: 18px;
  text-align: center;
  line-height: 18px;
  padding: 0px;
  padding-left: 0px !important;
  border-radius: 18px;
  margin-top: 7px;
  font-size: 11px;
  background: var(--sb-accent);
}

/* Footer Bar Variants */
.footer-bar-1 {
  /* Default footer bar style */
}

.footer-bar-2 .active-nav {
  color: var(--sb-accent) !important;
}

.footer-bar-2 .active-nav strong {
  position: absolute;
  width: 80px;
  left: 50%;
  transform: translateX(-50%);
  top: 0px;
  bottom: 0px;
  background: var(--sb-accent);
  opacity: 0.1;
}

.footer-bar-3 span {
  display: none !important;
}

.footer-bar-3 .active-nav {
  padding-top: 11px !important;
}

.footer-bar-3 .active-nav span {
  display: block !important;
}

.footer-bar-3 a {
  padding-top: 18px !important;
}

.footer-bar-4 .active-nav {
  color: var(--sb-accent) !important;
}

.footer-bar-4 .active-nav strong {
  position: absolute;
  width: 47px;
  height: 47px;
  border-radius: 60px;
  left: 50%;
  top: 30px;
  transform: translate(-50%, -50%);
  bottom: 0px;
  background: var(--sb-accent);
  opacity: 0.15;
}

.footer-bar-4 span {
  display: none !important;
}

.footer-bar-4 i {
  padding-top: 10px;
}

.footer-bar-5 .active-nav strong {
  position: absolute;
  width: 50px;
  height: 2px;
  border-radius: 60px;
  left: 50%;
  top: 0px;
  transform: translateX(-50%);
  background: var(--sb-accent);
}

/* Footer Menu States */
.footer-menu-hidden {
  transition: all 100ms ease;
  transform: translateY(100%) !important;
}

.footer-bar-white * {
  color: var(--sb-text);
}

#footer-bar.position-relative {
  z-index: 102 !important;
}

/* iOS Specific Adjustments */
.is-ios #footer-bar {
  height: calc(65px + constant(safe-area-inset-bottom) * 1.1);
  height: calc(65px + env(safe-area-inset-bottom) * 1.1);
}

/* Non-iOS Specific Adjustments */
.is-not-ios .footer-menu-clear {
  height: 70px;
  display: block;
}

.is-not-ios .footer {
  padding-bottom: 0px;
}

.is-not-ios #footer-menu a i {
  padding-top: 13px;
}

.is-not-ios #footer-menu a span {
  opacity: 0.6;
}

/* Scrolling Footer Bar for Overflow */
.footer-bar-scroll {
  display: block !important;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  white-space: nowrap;
  margin: 0px;
  padding: 0px;
}

.footer-bar-scroll a {
  display: inline-block;
  width: 19.5%;
}

.footer-bar-scroll.footer-bar-4 .active-nav strong {
  margin-top: 1px;
}

.footer-bar-scroll.footer-bar-4 .badge {
  margin-left: -8px !important;
  margin-top: 14px !important;
}

.footer-bar-scroll.footer-bar-3 .badge {
  margin-left: -7px !important;
  margin-top: 0px !important;
}

.footer-bar-scroll.footer-bar-3 i {
  transform: translateY(-10px);
}

.footer-bar-scroll.footer-bar-3 .active-nav i {
  transform: translateY(0px);
}

/* Active State Enhancement */
#footer-bar .active-nav {
  color: var(--sb-accent) !important;
}

#footer-bar .active-nav .nav-text {
  opacity: 1;
}

/* Dark Mode Integration */
@media (prefers-color-scheme: dark) {
  #footer-bar {
    box-shadow: 0 -5px 10px 0 rgba(0, 0, 0, 0.3);
  }
  
  #footer-bar .badge {
    background: var(--sb-accent);
    color: var(--sb-accent-contrast) !important;
  }
}
